<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Buy Now</title>
    <script>
        window.onload = function() {
            const product = JSON.parse(sessionStorage.getItem('product'));
            if (product) {
                document.getElementById('product-details').innerHTML = `
                    <h2>${product.name}</h2>
                    <img src="${product.image}" alt="${product.name}" style="width: 150px; height: auto;">
                    <p>Price: ₹${product.price}</p>
                    <label for="quantity">Quantity:</label>
                    <input type="number" id="quantity" value="1" min="1"><br><br>

                    <!-- Additional User Details -->
                    <label for="name">Name:</label>
                    <input type="text" id="name" placeholder="Enter your name"><br><br>

                    <label for="email">Email:</label>
                    <input type="email" id="email" placeholder="Enter your email"><br><br>

                    <label for="address">Address:</label>
                    <input type="text" id="address" placeholder="Enter your address"><br><br>

                    <label for="pincode">Pincode:</label>
                    <input type="text" id="pincode" placeholder="Enter your pincode"><br><br>

                    <label for="selbymeCode">SELBYME Code:</label>
                    <input type="text" id="selbymeCode" placeholder="Enter SELBYME Code"><br><br>

                    <button onclick="placeOrder()">Place Order</button>
                `;
            }
        };

        function placeOrder() {
            const product = JSON.parse(sessionStorage.getItem('product'));
            const quantity = document.getElementById('quantity').value;
            const name = document.getElementById('name').value;
            const email = document.getElementById('email').value;
            const address = document.getElementById('address').value;
            const pincode = document.getElementById('pincode').value;
            const selbymeCode = document.getElementById('selbymeCode').value;

            if (!name || !email || !address || !pincode || !selbymeCode) {
                alert("Please fill in all the fields before placing the order.");
                return;
            }

            // Create separate sections for product details and customer details
            const orderDetails = `
                Order Details:
                Product: ${product.name}, 
                Price: ₹${product.price}, 
                Quantity: ${quantity}
            `;
            
            const customerDetails = `
                Customer Details:
                Name: ${name}, 
                Email: ${email}, 
                Address: ${address}, 
                Pincode: ${pincode}, 
                SELBYME Code: ${selbymeCode}
            `;

            const message = `${orderDetails}\n\n${customerDetails}`;
            const encodedMessage = encodeURIComponent(message);
            window.open(`https://wa.me/919352856134?text=${encodedMessage}`, '_blank');
        }
    </script>
</head>
<body>
    <div id="product-details"></div>
</body>
</html>
